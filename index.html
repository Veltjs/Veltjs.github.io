<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A guide for Velt, a plugin that lets you use Javascript and Node to code with Spigot.">
        <meta name="author" content="Corman">
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>Velt Guide</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="js/jquery-1.10.2.min.js" defer></script>
        <script src="js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body class="homepage">
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href=".">Velt Guide</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem active">
                                <a href="." class="nav-link">Getting Started</a>
                            </li>
                            <li class="navitem">
                                <a href="basics/" class="nav-link">The Basics</a>
                            </li>
                            <li class="navitem">
                                <a href="utilities/" class="nav-link">Utilities</a>
                            </li>
                            <li class="navitem">
                                <a href="docs/" class="nav-link">Docs</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" class="nav-link disabled">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="basics/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#getting-started" class="nav-link">Getting Started</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#scripts" class="nav-link">Scripts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#modules" class="nav-link">Modules</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#info" class="nav-link">Info</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#the-velt-module" class="nav-link">The velt module</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#the-velthelpers-module" class="nav-link">The velt/helpers module</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#node-modules" class="nav-link">Node modules</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="getting-started">Getting Started</h1>
<p>Velt is one of the best plugins for running JS code on Spigot. Velt tries to give you as many utilities for running Spigot code as possible, but it doesn't provide unnecessary modules that aren't useful for creating concise and simple scripts.</p>
<p>As Velt provides you almost the same modules as NodeJS does, many of your same npm scripts should be able to run using Velt, and you can install npm modules on Velt. 
Velt is public and you can download it from its Github page here.</p>
<p>You can find the latest releases to download <a href="https://github.com/Veltjs/Velt/releases">here</a>.</p>
<h2 id="scripts">Scripts</h2>
<p>Just as a note, scripts work a little bit differently then other plugins, like Skript.</p>
<p>In your <code>Velt/scripts</code> folder, there are two types of scripts you can add:</p>
<ul>
<li><strong>Single-file scripts</strong> are scripts which are only part of one file. They're usually good for testing out things, or for simple scripts. Generally though, you'll want to split your scripts into more complex bundles.</li>
<li><strong>Folder scripts</strong> are scripts which are part of an entire folder. They only run the main file of the folder (by default, <code>index.js</code>) but that's configurable if you add a <code>package.json</code> to it.</li>
</ul>
<h1 id="modules">Modules</h1>
<p>Velt offers modules to help make your scripting easier.</p>
<h2 id="info">Info</h2>
<p>Velt offers the same require syntax which is used in Node to import modules. Velt also offers many node modules which you can use, as one of Velt's goals is for you to be able to run node scripts and modules in Velt just fine.
The two main modules in Velt are <code>velt</code> and <code>velt/helpers</code>.</p>
<h2 id="the-velt-module">The velt module</h2>
<p>The <code>velt</code> module is the main module for you to use, offering variables that you can utilize to make powerful scripts. Below is a list of variables the module offers.</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>events</td>
<td>The <code>events</code> variable allows you to listen for events asynchronously or not.</td>
</tr>
<tr>
<td>commands</td>
<td>The <code>commands</code> variable allows you to handle commands, subcommands, permissions, etc.</td>
</tr>
<tr>
<td>server</td>
<td>The <code>server</code> variable contains helpful functions to do specific tasks like getting an array of worlds, broadcasting a message, etc</td>
</tr>
<tr>
<td>script</td>
<td>The <code>script</code> variable contains a method especially useful for storing data no matter the server.</td>
</tr>
<tr>
<td>cast</td>
<td>Allows for casting variables to specific types.</td>
</tr>
</tbody>
</table>
<p>Below is an example of using the <code>commands</code> and <code>events</code> variable of velt.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">commands</span><span class="p">,</span> <span class="nx">events</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt&#39;</span><span class="p">);</span>

<span class="nx">commands</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">playerOnly</span><span class="o">:</span> <span class="s1">&#39;Only players can run this&#39;</span>
<span class="p">},</span> <span class="nx">async</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Tell me &quot;hello&quot;!&#39;</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//manager.waitFor allows asynchronously for us to wait for an event that matches the condition.</span>
        <span class="kd">let</span> <span class="nx">event</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">events</span><span class="p">.</span><span class="nx">once</span><span class="p">(</span><span class="s1">&#39;AsyncPlayerChatEvent&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">getPlayer</span><span class="p">()</span> <span class="o">===</span> <span class="nx">sender</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;hello&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Good job.&#39;</span><span class="p">);</span>
            <span class="nx">event</span><span class="p">.</span><span class="nx">setCancelled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="sb">`I said tell me hello, not </span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
            <span class="nx">event</span><span class="p">.</span><span class="nx">setCancelled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>  
<span class="p">});</span>
</code></pre></div>
<h2 id="the-velthelpers-module">The velt/helpers module</h2>
<p>The <code>velt/helpers</code> module offers classes which can help make your code easier to read and more concise. Below is an example of using the Gui class of <code>velt/helpers</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">commands</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">Gui</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt/helpers&#39;</span><span class="p">);</span>

<span class="nx">commands</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;showgui&#39;</span><span class="p">,</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">manager</span><span class="p">.</span><span class="nx">isConsole</span><span class="p">(</span><span class="nx">sender</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Only players can run this&#39;</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">new</span> <span class="nx">Gui</span><span class="p">(</span><span class="s1">&#39;My Gui&#39;</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;wooden sword&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;You clicked me&#39;</span><span class="p">);</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">sender</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="node-modules">Node modules</h2>
<p>Many NodeJS core modules are supported, but particularly, the following aren't supported:</p>
<ul>
<li>http</li>
<li>https</li>
<li>ws</li>
<li>vm</li>
</ul>
<p>The fs module also is only partially supported.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js" defer></script>
        <script src="search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!--
MkDocs version : 1.1.2
Build Date UTC : 2021-03-24 03:33:38.470674+00:00
-->
