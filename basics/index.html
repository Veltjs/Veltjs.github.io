<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Basics - Velt Guide</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Velt Guide</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Getting Started</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Basics</a>
                            </li>
                            <li class="navitem">
                                <a href="../utilities/" class="nav-link">Utilities</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../utilities/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#the-basics" class="nav-link">The Basics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#commands" class="nav-link">Commands</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#events" class="nav-link">Events</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#scheduling-tasks" class="nav-link">Scheduling Tasks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#creating-configs" class="nav-link">Creating Configs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#creating-guis" class="nav-link">Creating GUIs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#utilizing-scoreboards" class="nav-link">Utilizing Scoreboards</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#making-use-of-storage" class="nav-link">Making Use of Storage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="the-basics">The Basics</h2>
<p>Handling the implementations of basic features like commands in Velt.</p>
<h2 id="commands">Commands</h2>
<p>As you saw in the modules section, the <code>velt</code> module can be used to create commands. The velt module offers a few helpful variables. The one we'll mainly be looking at is <code>server</code>, as it offers direct control over handling commands and events.
The other function we'll be needing is <code>color</code>, which has the alias of <code>c</code>. This turns a string such as <code>&amp;6Abcd</code> to a colored string with the text <code>Abcd</code> in gold. The following import will allow you to get both the server object and the color function. </p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">server</span><span class="p">,</span> <span class="nx">c</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt&#39;</span><span class="p">);</span>
</code></pre></div>
<p><code>server.createCommand</code> has multiple usages, shown below:</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span> <span class="c1">//Takes command name from callback function name.</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</code></pre></div>
<p>The following options can be used:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="nx">description</span>: <span class="kt">string</span><span class="p">,</span>
    <span class="nx">usage</span>: <span class="kt">string</span><span class="p">,</span>
    <span class="nx">aliases</span>: <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="nx">label</span>: <span class="kt">string</span><span class="p">,</span>
    <span class="nx">callback</span><span class="o">:</span> <span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">any</span><span class="p">,</span>
    <span class="nx">tabComplete</span><span class="o">:</span> <span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">any</span><span class="p">,</span>
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">,</span>
    <span class="nx">permission</span>: <span class="kt">string</span><span class="p">,</span>
    <span class="nx">permissionMessage</span>: <span class="kt">string</span><span class="p">,</span>
    <span class="nx">playerOnly</span>: <span class="kt">boolean</span> <span class="o">|</span> <span class="kt">string</span><span class="p">,</span> <span class="c1">//Allows for blocking the console to run the command.</span>
    <span class="nx">argParser</span>: <span class="kt">str</span> <span class="o">=&gt;</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span> <span class="c1">//Allows for custom parsing of arguments, eg with quotes</span>
<span class="p">}</span>
</code></pre></div>
<p>However, you can also chain callback and tabComplete if needed. This allows for the following to be valid.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">run</span><span class="p">((</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Although that is generally not the recommended approach. A better approach would be this:</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>
<span class="p">}).</span><span class="nx">tabComplete</span><span class="p">((</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;tabCompleted&#39;</span><span class="p">];</span>
<span class="p">});</span>
</code></pre></div>
<p>However in that case, the recommended approach would be using options for that.
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">run</span><span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>       
    <span class="p">},</span> 
    <span class="nx">tabComplete</span><span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;tabCompleted&#39;</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></p>
<p>This allows for a clear and readable way to show your callback and tab completion.
Now, using commands itself. Let's start with a basic command.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="c1">//You can ignore specifying arguments if they aren&#39;t needed</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>The above command is great, but it doesn't really do much. Let's try using something that might be more useful.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;feed&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">permission</span><span class="o">:</span> <span class="s1">&#39;velt.feed&#39;</span>
<span class="p">},</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">setFoodLevel</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="s1">&#39;&amp;6You have been saturated!&#39;</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div>
<p>However, this won't work if the sender is a console. There are two ways to account for this. Firstly, you can manually block the console from running the command like so.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;feed&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">permission</span><span class="o">:</span> <span class="s1">&#39;velt.feed&#39;</span>
<span class="p">},</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">manager</span><span class="p">.</span><span class="nx">isConsole</span><span class="p">(</span><span class="nx">sender</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="s1">&#39;&amp;cOnly players can run the feed command.&#39;</span><span class="p">));</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">sender</span><span class="p">.</span><span class="nx">setFoodLevel</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="s1">&#39;&amp;6You have been saturated!&#39;</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div>
<p>The alternative is to specify this in your options, which is generally the preferred way.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;feed&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">permission</span><span class="o">:</span> <span class="s1">&#39;velt.feed&#39;</span><span class="p">,</span>
    <span class="nx">playerOnly</span>: <span class="kt">c</span><span class="p">(</span><span class="s1">&#39;&amp;cOnly players can run the feed command&#39;</span><span class="p">)</span>
<span class="p">},</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">setFoodLevel</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="s1">&#39;&amp;6You have been saturated!&#39;</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div>
<p>If you want to specify arguments, you can do it like so.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="sb">`&amp;6Your arguments are: &amp;c</span><span class="si">${</span><span class="nx">args</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>By default, Velt processes arguments itself so that you can use quotations for arguments. You can disable this by overriding argParser.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">argParser</span>: <span class="kt">null</span> <span class="c1">//Use minecraft&#39;s default arg parsing.</span>
<span class="p">},</span> <span class="p">(</span><span class="nx">sender</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;This is a command&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Now, you can use Minecraft's builtin command system without support for arguments with over a space.</p>
<h2 id="events">Events</h2>
<p>As you know, the <code>server</code> variable from the velt module handles broadcasting, scheduling, callbacks, commands and events. Events are essential to scripting powerful scripts in Minecraft, since they allow you to handle everything that happens in your server, from a player chatting, to every single mob that spawns, to when a player right clicks their mouse, events are for handling it.</p>
<p>The main way for you to handle your events is using the manager.on function, which takes in the event name, and a callback which handles the event.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">server</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt&#39;</span><span class="p">);</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;AsyncPlayerChatEvent&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">setFormat</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">getPlayer</span><span class="p">().</span><span class="nx">getDisplayName</span><span class="p">()</span><span class="si">}</span><span class="sb"> &gt; </span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Above is a basic example of how to use events in Velt. You can handle any Spigot event and even events from other plugins.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;PlayerJoinEvent&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">setJoinMessage</span><span class="p">(</span><span class="sb">`[+] </span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">getPlayer</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Something to note is that there can be multiple event handlers listening for a callback, and that you can close event handlers.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">handler</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;PlayerJoinEvent&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">setJoinMessage</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">getPlayer</span><span class="p">()</span><span class="si">}</span><span class="sb"> has joined.`</span><span class="p">);</span>
    <span class="nx">handler</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>Another way to listen for events is server.once, which will listen for a single event.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;PlayerJoinEvent&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">setJoinMessage</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">getPlayer</span><span class="p">()</span><span class="si">}</span><span class="sb"> has joined.`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>However, one of the best ways to listen for events is using server.waitFor, which will return a promise that resolves when the event that matches the condition is detected. This can be extremely useful for detecting events within your code, and can simplify your scripts heavily, especially when combined with JavaScript's async-await syntax.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="nx">async</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Tell me hello.&#39;</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">event</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">server</span><span class="p">.</span><span class="nx">waitFor</span><span class="p">(</span><span class="s1">&#39;AsyncPlayerChatEvent&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">getPlayer</span><span class="p">()</span> <span class="o">===</span> <span class="nx">sender</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;hello&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;Good job.&#39;</span><span class="p">);</span>
            <span class="nx">event</span><span class="p">.</span><span class="nx">setCancelled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">sender</span><span class="p">.</span><span class="nx">sendMessage</span><span class="p">(</span><span class="s1">&#39;You did not tell me hello, so tell me hello!&#39;</span><span class="p">);</span>
            <span class="nx">event</span><span class="p">.</span><span class="nx">setCancelled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="scheduling-tasks">Scheduling Tasks</h2>
<p>To start, you'll need to import the <code>server</code> variable from the <code>velt</code> module.</p>
<h6 id="normal-tasks">Normal Tasks</h6>
<p>Velt allows you to schedule both normal tasks and looping tasks. Normal tasks can be scheduled with a promise.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//Run after 5 ticks</span>
<span class="p">});</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">after</span><span class="p">({</span> <span class="nx">seconds</span>: <span class="kt">1</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//Run after 1 second</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also asynchronously schedule tasks.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">server</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Run after 5 ticks&#39;</span><span class="p">);</span>
    <span class="nx">await</span> <span class="nx">server</span><span class="p">.</span><span class="nx">after</span><span class="p">({</span> <span class="nx">seconds</span>: <span class="kt">1</span> <span class="p">});</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Run 1 second after the 5 ticks were waited&#39;</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre></div>
<h6 id="looping-tasks">Looping Tasks</h6>
<p>Periodic tasks, or looping tasks, can also be scheduled in a similar way, except using a single callback and not a promise.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">schedule</span><span class="p">({</span> <span class="nx">seconds</span>: <span class="kt">1</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;This is called every second&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also asynchronously use <code>server.after</code> to simulate the above example.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">server</span><span class="p">.</span><span class="nx">after</span><span class="p">({</span> <span class="nx">seconds</span>: <span class="kt">1</span> <span class="p">});</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;This is called every second&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})();</span>
</code></pre></div>
<p>However, you can also use server.schedule as a scheduler object to simulate the above example asynchronously much more easily and much better for performance.</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">scheduler</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">schedule</span><span class="p">({</span> <span class="nx">seconds</span>: <span class="kt">1</span> <span class="p">});</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">scheduler</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;This is called every second&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})();</span>
</code></pre></div>
<h2 id="creating-configs">Creating Configs</h2>
<p>You'll need to import <code>Storage</code> from velt-helpers.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">Storage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt-storage&#39;</span><span class="p">);</span>
</code></pre></div>
<p>Velt can save configurations to JSON and YAML, which can either be manually specified, or defaults to the file extension.</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Create a config from the ./config.yml file.</span>
<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">Storage</span><span class="p">.</span><span class="nx">createConfig</span><span class="p">(</span><span class="s1">&#39;./config.yml&#39;</span><span class="p">);</span>
<span class="c1">//Create a config from the ./config.yml file with a default object for a value if the path doesn&#39;t exist.</span>
<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">Storage</span><span class="p">.</span><span class="nx">createConfig</span><span class="p">(</span><span class="s1">&#39;./config.yml&#39;</span><span class="p">,</span> <span class="p">{});</span>
<span class="err">​</span>
<span class="c1">//Update config properties with an object</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span>
    <span class="nx">a</span>: <span class="kt">1</span><span class="p">,</span>
    <span class="nx">b</span>: <span class="kt">2</span><span class="p">,</span>
    <span class="nx">c</span>: <span class="kt">3</span>
<span class="p">});</span>
<span class="err">​</span>
<span class="c1">//Get properties via destructuring</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
<span class="err">​</span>
<span class="c1">//Utilize fields for getting and setting</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">();</span>
<span class="err">​</span>
<span class="c1">//Save the config;</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
<span class="c1">//Save the config as a specific type.</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">save</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span><span class="p">});</span> 
<span class="nx">config</span><span class="p">.</span><span class="nx">save</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;yaml&#39;</span><span class="p">});</span>
<span class="c1">//Save the config at a specific path</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s1">&#39;config.json&#39;</span><span class="p">);</span>
<span class="c1">//Save the config at a specific path with a specific type</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="s1">&#39;config.yml&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span><span class="p">});</span>
</code></pre></div>
<h2 id="creating-guis">Creating GUIs</h2>
<p>With Velt, you can make powerful, effective GUIs with very little code using Velt's utility module, <code>velt-helpers</code>. For GUI creation, you need to import the <code>Gui</code> class.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">Gui</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt-helpers&#39;</span><span class="p">);</span>
</code></pre></div>
<p>Next, create your GUI by initializing it with the name, and number of rows.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">gui</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Gui</span><span class="p">(</span><span class="s1">&#39;My GUI&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</code></pre></div>
<p>Now, you can format items onto the GUI with <code>gui.format</code> (or alternatively with the alias <code>gui.set</code>)</p>
<div class="highlight"><pre><span></span><code><span class="nx">gui</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;diamond sword&#39;</span><span class="p">);</span>
<span class="nx">gui</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;iron sword&#39;</span><span class="p">);</span>
</code></pre></div>
<p>You can also make it so when you click on an item, a callback is run.</p>
<div class="highlight"><pre><span></span><code><span class="nx">gui</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;stone sword&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">server</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="s1">&#39;The stone sword was clicked!&#39;</span><span class="p">));</span>
<span class="c1">//Alternative option</span>
<span class="nx">gui</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;stone sword&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">run() {</span> <span class="nx">server</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="s1">&#39;The stone sword was clicked!&#39;</span><span class="p">);</span> <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>GUIs can be shown to players with the <code>gui.show</code> method (or alternatively, using <code>gui.open</code>).</p>
<div class="highlight"><pre><span></span><code><span class="nx">gui</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
<span class="nx">gui</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">playerOne</span><span class="p">,</span> <span class="nx">playerTwo</span><span class="p">);</span>
<span class="nx">gui</span><span class="p">.</span><span class="nx">show</span><span class="p">(...</span><span class="nx">arrayOfPlayers</span><span class="p">);</span>
</code></pre></div>
<p>Most of the time, you should use method-chaining with GUIs, since it's simple and much easier to use.</p>
<div class="highlight"><pre><span></span><code><span class="k">new</span> <span class="nx">Gui</span><span class="p">(</span><span class="s1">&#39;My GUI&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;diamond sword&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;iron sword&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;stone sword&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">server</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="s1">&#39;I got clicked!&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
</code></pre></div>
<p>When formatting an item, a lot of the time you want to close the GUI after clicking it. You can do that like so.</p>
<div class="highlight"><pre><span></span><code><span class="nx">gui</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;stone block&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">close</span>: <span class="kt">true</span><span class="p">,</span> <span class="c1">//Make it close after clicking it</span>
    <span class="nx">run() {</span>
        <span class="nx">server</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="s1">&#39;I was clicked!&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also make a GUI item movable, so you can move it across the GUI to other slots.</p>
<div class="highlight"><pre><span></span><code><span class="nx">gui</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;iron ingot&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">movable</span>: <span class="kt">true</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="utilizing-scoreboards">Utilizing Scoreboards</h2>
<p>Scoreboards is yet another helper class from the velt-helpers module, so to use scoreboards you will need to import Scoreboard from the velt-helpers module like so.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">Scoreboard</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt-helpers&#39;</span><span class="p">);</span>
</code></pre></div>
<p>Scoreboards can be initialized in several ways, using a list, or using an object with key-value pairs, or using method chaining.</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Explicit scoreboard setting example</span>
<span class="err">​</span>
<span class="kd">let</span> <span class="nx">scoreboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Scoreboard</span><span class="p">();</span>
<span class="err">​</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">setName</span><span class="p">(</span><span class="s1">&#39;My Scoreboard&#39;</span><span class="p">);</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;First Value&#39;</span><span class="p">);</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Second Value&#39;</span><span class="p">);</span>
<span class="err">​</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
<span class="err">​</span>
<span class="c1">//Using an object</span>
<span class="err">​</span>
<span class="kd">let</span> <span class="nx">scoreboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Scoreboard</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;My Scoreboard&#39;</span><span class="p">,</span>
    <span class="nx">scores</span><span class="o">:</span> <span class="p">{</span>
        <span class="mi">1</span><span class="o">:</span> <span class="s1">&#39;First Value&#39;</span><span class="p">,</span>
        <span class="mi">0</span><span class="o">:</span> <span class="s1">&#39;Second Value&#39;</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="nx">show</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
<span class="err">​</span>
<span class="c1">//Using an array instead of numbers (numbers auto-filled in)</span>
<span class="err">​</span>
<span class="kd">let</span> <span class="nx">scoreboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Scoreboard</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;My Scoreboard&#39;</span><span class="p">,</span>
    <span class="nx">scores</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;First Value&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Second Value&#39;</span>
    <span class="p">]</span>
<span class="p">}).</span><span class="nx">show</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
<span class="err">​</span>
<span class="c1">//Combining objects and lists with a non-method chaining solution.</span>
<span class="err">​</span>
<span class="kd">let</span> <span class="nx">scoreboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Scoreboard</span><span class="p">();</span>
<span class="err">​</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">setName</span><span class="p">(</span><span class="s1">&#39;My Scoreboard&#39;</span><span class="p">);</span>
<span class="err">​</span>
<span class="c1">//Use an object</span>
<span class="err">​</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span>
    <span class="mi">1</span><span class="o">:</span> <span class="s1">&#39;First Value&#39;</span><span class="p">,</span>
    <span class="mi">0</span><span class="o">:</span> <span class="s1">&#39;Second Value&#39;</span>
<span class="p">});</span>
<span class="err">​</span>
<span class="c1">//Use an array</span>
<span class="err">​</span>
<span class="nx">scoreboard</span><span class="p">.</span><span class="nx">set</span><span class="p">([</span>
    <span class="s1">&#39;First Value&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Second Value&#39;</span>
<span class="p">]);</span>
<span class="err">​</span>
<span class="c1">//Method chaining</span>
<span class="err">​</span>
<span class="kd">let</span> <span class="nx">scoreboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Scoreboard</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">setName</span><span class="p">(</span><span class="s1">&#39;My Scoreboard&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;First Value&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Second Value&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
</code></pre></div>
<h2 id="making-use-of-storage">Making Use of Storage</h2>
<p>Storage is by far one of the most useful features in Velt, as a lot of the time you need to store data across restarts and variables just won't cut it. Storage allows for getting and setting individual fields of JSON files, YAML files (to come), and databases entirely at some point.</p>
<p>Firstly, you need to import the Storage class from <code>velt-storage</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">Storage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;velt-storage&#39;</span><span class="p">);</span>
</code></pre></div>
<p>Storage can be created from a file as its path.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">storage</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Storage</span><span class="p">(</span><span class="s1">&#39;./data.json&#39;</span><span class="p">);</span>
</code></pre></div>
<p>The storage can be manually used with the .get and .set methods to handle data.</p>
<div class="highlight"><pre><span></span><code><span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span> <span class="c1">//Gets the value of the storage</span>
<span class="nx">storage</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span> <span class="nx">hello</span><span class="o">:</span> <span class="s1">&#39;world&#39;</span> <span class="p">});</span> <span class="c1">//Sets the value of the storage</span>
</code></pre></div>
<p>Here's an example of a spawn command, and a setspawn command.</p>
<div class="highlight"><pre><span></span><code><span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">,</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">()[</span><span class="s1">&#39;spawn&#39;</span><span class="p">].</span><span class="nx">teleport</span><span class="p">(</span><span class="nx">sender</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;setspawn&#39;</span><span class="p">,</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">storage</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span> <span class="p">...</span><span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">(),</span> <span class="nx">spawn</span>: <span class="kt">sender.getLocation</span><span class="p">()</span> <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>Here's an example of a GUI which allows you to increment a number and keeps your progress across restarts.</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">Gui</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">num</span> <span class="o">=</span> <span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">()[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">?</span> <span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">()[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">new</span> <span class="nx">Gui</span><span class="p">(</span><span class="sb">`Number: </span><span class="si">${</span><span class="nx">num</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span>
            <span class="nx">material</span><span class="o">:</span> <span class="s1">&#39;iron ingot&#39;</span><span class="p">,</span>
            <span class="nx">name</span>: <span class="kt">c</span><span class="sb">`&amp;6Increase counter by 1`</span>
        <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">storage</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span> <span class="p">...</span><span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">(),</span> <span class="nx">value</span>: <span class="kt">num</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">});</span>
            <span class="nx">Gui</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>However, both of these are not very readable as you have to get the entire storage value and then get a specific field, and when setting it, you have to update the entire storage and keep everything but one value. For more complex cases like kits and warps, this would be even more complex.</p>
<p>This is where the field comes in, it can simplify using the storage dramatically by only making you set one field at a time.
Here's our spawn example, but using a field.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">spawn</span> <span class="o">=</span> <span class="nx">storage</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">);</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;spawn&#39;</span><span class="p">,</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">spawn</span><span class="p">.</span><span class="nx">get</span><span class="p">().</span><span class="nx">teleport</span><span class="p">(</span><span class="nx">sender</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">createCommand</span><span class="p">(</span><span class="s1">&#39;setspawn&#39;</span><span class="p">,</span> <span class="nx">sender</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">spawn</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">sender</span><span class="p">.</span><span class="nx">getLocation</span><span class="p">());</span>
<span class="p">});</span>
</code></pre></div>
<p>And here's our GUI counter using a value field.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">storage</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="mi">0</span> <span class="p">});</span>

<span class="kd">function</span> <span class="nx">Gui</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">new</span> <span class="nx">Gui</span><span class="p">(</span><span class="sb">`Number: </span><span class="si">${</span><span class="nx">value</span><span class="p">.</span><span class="nx">get</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span>
            <span class="nx">material</span><span class="o">:</span> <span class="s1">&#39;iron ingot&#39;</span><span class="p">,</span>
            <span class="nx">name</span>: <span class="kt">c</span><span class="sb">`&amp;6Increase counter by 1`</span>
        <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">value</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
            <span class="nx">Gui</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>The benefits of using fields are especially useful when you need to use arrays or objects to store things like warps and kits.</p>
<p>The following is an example of a warp system using storage fields.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">warps</span> <span class="o">=</span> <span class="nx">storage</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;warps&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="p">{}</span> <span class="p">});</span>

<span class="kd">function</span> <span class="nx">setWarp</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">loc</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">warps</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="nx">name</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="nx">cast</span><span class="p">.</span><span class="nx">asLocation</span><span class="p">(</span><span class="nx">loc</span><span class="p">));</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">gotoWarp</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">teleport</span><span class="p">(</span><span class="nx">warps</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="nx">name</span><span class="p">).</span><span class="nx">get</span><span class="p">());</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">removeWarp</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">warps</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>The following is an example of a kits system using storage fields.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">kits</span> <span class="o">=</span> <span class="nx">storage</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;kits&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="p">{}</span> <span class="p">});</span>

<span class="kd">function</span> <span class="nx">createKit</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">kits</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="nx">name</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="k">new</span> <span class="nx">Inventory</span><span class="p">(</span><span class="nx">player</span><span class="p">));</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">giveKit</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">kits</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="nx">name</span><span class="p">).</span><span class="nx">get</span><span class="p">().</span><span class="nx">give</span><span class="p">(</span><span class="nx">player</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">removeKit</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">kits</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
